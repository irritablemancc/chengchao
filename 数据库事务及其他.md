关闭调用文件里面的一个，魔法函数   `__exit__`()

with  自动关闭

在Linux中获取当前时间 的语句是 

date   

echo `date`  （如果date语句在一个语句中，需要使用一对反引号包裹，反引号的作用是在执行该语句之前，先执行被包裹的语句）

在mysql中获取当前时间  的语句是

now()

2019-09-06 17:11:56

now（） 的作用是获取当前的时间，但是在mysql中，数据不能直接查看的，需要使用   select  来查看。完整的语句是。             

select  now();



## 数据库事务及其他

####  事务

事务主要用于处理操作量大，复杂度高，并且关联性强的数据。比如说，在人员管理系统中，你删除一个人员，你即需要删除人员的基本资料，也要删除和该人员相关的信息，如信箱，文章等，这样，这些 数据库操作语句就构成一个事务！

在mysql中只有innodb存储引擎支持事务。y事务处理可以用来维护数据库的完整性，保证成批的sql语句要么全部执行，要么全部不执行，主要针对insert，update，delete语句而设置的。

### 事务四大特性

在写入更新资料的过程中，为保证事务（transaction）是可靠的，所以必须具备的四个特性。

1.原子性（atomicity）

+ 事务中的所以操作要么你全部完成，要么你全部不完成，不会结束在中间的某个环节
+ 事务在执行过程中发生错误，会被回滚（rollback）到事务开始前的状态，就像这个事务从来没有执行或一样。

2.一致性（consistency）

+ 在事务开始之前和事务结束以后，数据库的完整性没有被破坏。这表示写入的资料必须完全符合所有的预设规则，这包含资料的精确度，串联性已经后续数据库可以自发性的完成预定的工作。

3.隔离性 （lsolation）

+ 数据库允许多个并发事务同时对其数据进行读写和修改的能力，隔离性可以防止多个事务并发执行时由于交叉执行而导致数据的不一致。
+ 事务隔离分为不同级别，包括
  + 读取未提交（read uncommitted）
    + 所有事务都可以看到其他为提交事务的执行结果
    + 本隔离级别很少用于实际应用，因为它的性能也不比其他级别好多好。
    + 该级别引发的问题是---脏读（dirty read）读取到了未提交的数据
  + 读提交（read committed）
    + 这是大多数数据库系统的默认隔离级别，（但不是mysql默认的。）